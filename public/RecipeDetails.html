
<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
		<meta name="generator" content="Jekyll v3.8.5">
		<title>Search Results</title>

		<!-- Bootstrap core CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<style>
			.bd-placeholder-img {
				font-size: 1.125rem;
				text-anchor: middle;
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}

			@media (min-width: 768px) {
				.bd-placeholder-img-lg {
					font-size: 3.5rem;
				}
			}
			
			.sidenav {
				height: 120%;
				width: 0;
				position: fixed;
				z-index: 1;
				top: 0;
				right: 0;
				background-color: #ffffff;
				overflow-x: hidden;
				transition: 0.5s;
				padding-top: 80px;
			}

			.sidenav a {
				padding: 8px 8px 8px 32px;
				text-decoration: none;
				font-size: 25px;
				color: #818181;
				display: block;
				transition: 0.3s;
			}

			.sidenav a:hover {
				color: #f1f1f1;
			}

			.sidenav .closebtn {
				position: absolute;
				top: 0;
				right: 25px;
				font-size: 30px;
				margin-left: 50px;
				padding-top: 60px;
			}
			
			.results {
				overflow: hidden;
			}
		</style>
		<!-- Custom styles for this template -->
		<link href="jumbotron.css" rel="stylesheet">
	</head>
	<body>
		<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
			<a class="navbar-brand ml-3" href="#">&#10086; EasyMeals</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav ml-auto mr-3 w-100 justify-content-end">
					<li class="nav-item active">
						<a class="nav-link" href="Index.html">Home <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="Account.html">Account</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="SavedRecipes.html">Saved Recipes</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" onclick="openNavLog()">Sign in</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="SignUp.html">Sign up</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link btn-primary rounded" href="#" role="button" style="width: 150px;">Add your recipe &#9753;</a>
					</li>
				</ul>
    
			</div>
		</nav>

		<main role="main">

			<!-- Main jumbotron for a primary marketing message or call to action -->
			<div class="jumbotron" style="margin-top: 30px;background-color: #ffffff">
				<div class="container">
					<!-- Example row of columns -->
					<div class="row border-bottom">
						<div class="col-md-4">
							<h1 id="titleCard" class=""></h1>
							<p><a id="testBtn" class="btn btn-primary btn-lg" role="button" style="width: 150px" hidden>Search &raquo;</a></p>
						</div>
	    	
					</div>
					
					<div id="results" class="table" style="margin-top: 13px">
						
					</div>

					<hr>

				</div> <!-- /container -->	
			</div>

		</main>

		<!-- sideBar Login -->
		<div id="mySidenavLogin" class="sidenav text-center border-left">			
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<div class="py-5 text-center">			
				<h4 class="font-weight-bold">Welcome to EasyMeals</h4>
			</div>
			<div class="col-md-9 order-md-1" style="margin: auto">      
					<div class="mb-3">
						<label for="email">Email</label>
						<input type="email" class="form-control" id="emailLogin" placeholder="you@example.com" value="" required="">
						<div class="invalid-feedback">
							Please enter a valid email address.
						</div>
					</div>
               
					<div class="mb-3">
						<label for="password">Password <span class="text-muted">(8 or more characters)</span></label>
						<input type="password" class="form-control" id="passwordLogin" placeholder="Password" value="" required="">
						<div class="invalid-feedback">
							Please enter a valid password.
						</div>
					</div>
					
					<hr class="mb-4">
					<button class="btn btn-primary btn-lg btn-default" type="submit" onclick="processLogin($('#emailLogin').val(),$('#passwordLogin').val())" >Login</button>
					
					<div class="mb-3">
						<p>Don't have an account?<small><a href="SignUp.html">Sign up</a></small></p>
					</div>
			</div>
			
			<div style="padding-top: 200px" ></div>
			
			<div style="height: 200px;padding-top: 50px;background:url('Images/footer.jpg');background-size: contain;">
				<h6>Â© 2019 EasyMeals</h6>
			</div>	
			
		</div>

		<footer class="container">
			<p>&copy; EasyMeals 2019</p>
		</footer>
				
		
		<script src="./CSS/form-validation.js.download"></script>
		
		<script>
		
		function openNavReg() {
			document.getElementById("mySidenav").style.width = "500px";
		}
		
		function openNavLog() {
			document.getElementById("mySidenavLogin").style.width = "500px";
		}

		function closeNav() {
			document.getElementById("mySidenav").style.width = "0";
			document.getElementById("mySidenavLogin").style.width = "0px";
		}
				
			
		$(function(){
  			// jQuery methods go here...
			clearDisplay();			
			var display = document.getElementById("results");
			var titleCard = document.getElementById("titleCard");
			
			var recipeResult = window.location.hash.substring(1);
			
			
			function getData(recipeResult){
				console.log(recipeResult);
				$.ajax({
						url: 'http://localhost:8000/api/query/getRecipeById',
						type: 'POST',
						contentType: 'application/json',
						data: JSON.stringify({"recipeId":recipeResult}),
						success: function(res){
							console.log(res);						
							var text = "<div class='row fixed'>";
							text += "<div class='col rounded'><p><img class='rounded' src='https://spoonacular.com/recipeImages/"+recipeResult+"-556x370.jpg'/></p></div><div class='col rounded '><p>"+res.instructions+"</p></div></div>"
						titleCard.innerHTML = res.title;
						display.innerHTML+=text;
					}})
			}
			
			
			function clearDisplay(){
				var display = document.getElementById("results");
				var titleCard = document.getElementById("titleCard");
				display.innerHTML = "";
				titleCard.innerHTML = "";
			}
			
			var testBtn = document.getElementById("testBtn");
			testBtn.addEventListener("click",getData(window.location.hash.substring(1)),false)
			
		});
		</script>
	</body>
    
</html>
