
<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
		<meta name="generator" content="Jekyll v3.8.5">
		<title>Sign Up</title>

		<!-- Bootstrap core CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="login.js"></script>
		<style>
			.bd-placeholder-img {
				font-size: 1.125rem;
				text-anchor: middle;
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}

			@media (min-width: 768px) {
				.bd-placeholder-img-lg {
					font-size: 3.5rem;
				}
			}
			
			.sidenav {
				height: 120%;
				width: 500px;
				position: fixed;
				z-index: 1;
				top: 0;
				right: 0;
				background-color: #ffffff;
				overflow-x: hidden;
				transition: 0.5s;
				padding-top: 80px;
			}

			.sidenav a {
				padding: 8px 8px 8px 32px;
				text-decoration: none;
				font-size: 25px;
				color: #818181;
				display: block;
				transition: 0.3s;
			}

			.sidenav a:hover {
				color: #f1f1f1;
			}

			.sidenav .closebtn {
				position: absolute;
				top: 0;
				right: 25px;
				font-size: 30px;
				margin-left: 50px;
				padding-top: 60px;
			}
		</style>
		<!-- Custom styles for this template -->
		<link href="jumbotron.css" rel="stylesheet">
	</head>
	<body>
		<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
			<a class="navbar-brand ml-3" href="#">&#10086; EasyMeals</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav ml-auto mr-3 w-100 justify-content-end">
					<li class="nav-item active">
						<a class="nav-link" href="Index.html">Home <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="Account.html">Account</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="SavedRecipes.html">Saved Recipes</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" onclick="openNavLog()">Sign in</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Sign up</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link btn-primary rounded" href="#" role="button" style="width: 150px;">Add your recipe &#9753;</a>
					</li>
				</ul>
    
			</div>
		</nav>

		<main role="main">

			<!-- Main jumbotron for a primary marketing message or call to action -->
			<div class="jumbotron" style="margin-top: 30px;background: url('Images/foodBck2.jpg');background-size: cover; ">
				<div class="container">
					<h1 class="display-3" style="margin-bottom: 20px;color: #ffffff;font-weight: normal;">Stay Hungry!</h1>
					<table class="justify-content-md-around">
						<tr>
							<td>
								<input type="text" class="form-control" id="searchData" placeholder="What are you looking for?" value="" required="" style="margin-bottom: 18px;width:800px;height: 47px;margin-right: 10px">	
							</td>
							<td>
								<p><a id="searchBtn" class="btn btn-primary btn-lg" role="button" style="width: 150px">Search &raquo;</a></p>
							</td>
						</tr>
					</table>
      
     
				</div>
			</div>

			<div class="container">
				<!-- Example row of columns -->
				<div class="row border-bottom">
					<div class="col-md-4">
						<h1 id="titleCard" class="">Recipes</h1>
					</div>
    	
				</div>
				<div id="results" class="table" style="margin-top: 13px">
					
				</div>

				<hr>

			</div> <!-- /container -->

		</main>
		
		<!-- sideBar Login -->
		<div id="mySidenavLogin" class="sidenav text-center border-left">			
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<div class="py-5 text-center">			
				<h4 class="font-weight-bold">Welcome to EasyMeals</h4>
			</div>
			<div class="col-md-9 order-md-1" style="margin: auto">      
					<div class="mb-3">
						<label for="email">Email</label>
						<input type="email" class="form-control" id="emailLogin" placeholder="you@example.com" value="" required="">
						<div class="invalid-feedback">
							Please enter a valid email address.
						</div>
					</div>
               
					<div class="mb-3">
						<label for="password">Password <span class="text-muted">(8 or more characters)</span></label>
						<input type="password" class="form-control" id="passwordLogin" placeholder="Password" value="" required="">
						<div class="invalid-feedback">
							Please enter a valid password.
						</div>
					</div>
					
					<hr class="mb-4">
					<button class="btn btn-primary btn-lg btn-default" type="submit" onclick="processLogin($('#emailLogin').val(),$('#passwordLogin').val())" >Login</button>
					
					<div class="mb-3">
						<p>Don't have an account?<span><a href="SignUp.html">Sign up</a></span></p>
					</div>
			</div>
			
			<div style="padding-top: 200px" ></div>
			
			<div style="height: 200px;padding-top: 50px;background:url('Images/footer.jpg');background-size: contain;">
				<h6>© 2019 EasyMeals</h6>
			</div>	
			
		</div>
		
		<!-- sideBar Registration -->
		<div id="mySidenav" class="sidenav text-center border-left">			
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<div class="py-5 text-center">			
				<h4 class="font-weight-bold">Welcome to EasyMeals</h4>
				<h5>Fill out the form to get started.</h5>
			</div>
			<div class="col-md-9 order-md-1" style="margin: auto">      
				<form class="needs-validation" novalidate="" action="./Account_Reservations.html">        
					<div class="mb-3">
						<label for="email">Email</label>
						<input type="email" class="form-control" id="email" placeholder="you@example.com" value="" required="">
						<div class="invalid-feedback">
							Please enter a valid email address.
						</div>
					</div>
               
					<div class="mb-3">
						<label for="password">Password <span class="text-muted">(8 or more characters)</span></label>
						<input type="password" class="form-control" id="password" placeholder="Password" value="" required="">
						<div class="invalid-feedback">
							Please enter a valid password.
						</div>
					</div>
        
					<div class="mb-3">
						<label for="conpassword">Confirm Password</label>
						<input type="password" class="form-control" id="conpassword" placeholder="Confirm Password" value="" required="">
						<div class="invalid-feedback">
							Please re-enter your password.
						</div>
					</div>
              
					<hr class="mb-4">
					<button class="btn btn-primary btn-lg btn-default" type="submit" >Get Started</button>
				</form>
			</div>
			
			<div style="padding-top: 200px" ></div>
			
			<div style="height: 200px;padding-top: 50px;background:url('Images/footer.jpg');background-size: contain;">
				<h6>© 2019 EasyMeals</h6>
			</div>	
			
		</div>

		<footer class="container">
			<p>&copy; EasyMeals 2019</p>
		</footer>
				
		
		<script src="./CSS/form-validation.js.download"></script>
		
		<script>
		
		function openNavReg() {
			document.getElementById("mySidenav").style.width = "500px";
		}
		
		function openNavLog() {
			document.getElementById("mySidenavLogin").style.width = "500px";
		}

		function closeNav() {
			document.getElementById("mySidenav").style.width = "0px";
			document.getElementById("mySidenavLogin").style.width = "0px";
		}
		
		$(function(){

  			// jQuery methods go here...
			function queryByIngredient(naturalString){
				clearDisplay();
				var display = document.getElementById("results");
				var titleCard = document.getElementById("titleCard");
				var count = 1;
				$.ajax({
					url: 'http://localhost:8000/api/query/byNatural',
					type: 'POST',
					contentType: 'application/json',
					data: JSON.stringify({naturalString}),
					success: function(res){
						console.log(res);
						var text = "<div class='row'>";
						
						for(var i = 0; i < res.results.length;i++){
							var title = res.results[i].title;
							if(title.length>25){
								title = title.substring(0,25) + "...";
							}
							
							if(i%3 == 0){
								text += "</div>";
								if(i!=res.results.length-1){
									text+="<div class='row'>";
								}
							}
							text += "<div class='col-md-4 rounded'><h1 class='h5'>"+title+"</h1><p><img class='rounded' src='https://spoonacular.com/recipeImages/"+res.results[i].id+"-556x370.jpg' style='height: 250px'/></p><p><button name='viewRecipe' class='btn btn-secondary' role='button' value="+res.results[i].id+">View details &raquo;</button></p></div>"
							
						}
					titleCard.innerHTML = "Recipes";
					display.innerHTML+=text;
					$("button[name='viewRecipe']").click(function(){
						window.location.href = "RecipeDetails.html" + "#" + $(this).val();
					})
				}})
			}
			
			function clearDisplay(){
				var display = document.getElementById("results");
				var titleCard = document.getElementById("titleCard");
				display.innerHTML = "";
				titleCard.innerHTML = "";
			}
					
			var searchBtn = document.getElementById("searchBtn");
			$("#searchBtn").click(function(){
				queryByIngredient($("#searchData").val());
			})
			
			
			searchBtn.addEventListener("click",queryByIngredient("pizza"),false);
		});
		

		</script>
	</body>
    
</html>
